import{r as i,j as e}from"./index-BTLMSJlm.js";import{d as b}from"./index-CyG_8B67.js";import"./iconBase-DQDILiGN.js";const j=()=>{const c={"Sick Leave":{total:12,taken:3,remaining:9},"Casual Leave":{total:15,taken:5,remaining:10},"Paid Leave":{total:30,taken:10,remaining:20},"unPaid Leave":{total:0,taken:0,remaining:0},"Maternity Leave":{total:180,taken:0,remaining:180}},[y,p]=i.useState(!1),[t,l]=i.useState({leaveType:"",startDate:"",endDate:"",additionalManager:"",reason:""}),[d,u]=i.useState(null),[x,g]=i.useState(0);i.useEffect(()=>{t.leaveType&&c[t.leaveType]?u(c[t.leaveType]):u(null)},[t.leaveType]),i.useEffect(()=>{if(t.startDate&&t.endDate){const r=new Date(t.startDate),n=new Date(t.endDate),h=Math.abs(n-r),m=Math.ceil(h/(1e3*60*60*24))+1;g(m)}else g(0)},[t.startDate,t.endDate]);const o=r=>{const{name:n,value:h}=r.target;l(m=>({...m,[n]:h}))},a=r=>{r.preventDefault(),console.log("Leave application submitted:",t),alert("Leave application submitted successfully!"),p(!1),s()},s=()=>{l({leaveType:"",startDate:"",endDate:"",additionalManager:"",reason:""}),u(null),g(0)};return e.jsxs("div",{className:"container-fluid py-2",style:{color:"var(--primaryDashColorDark)"},children:[e.jsxs("div",{className:"d-flex justify-content-between py-2",children:[e.jsxs("div",{className:"my-auto mt-2",children:[e.jsx("div",{className:"d-flex align-items-center gap-2",children:e.jsx("h5",{className:"m-0 p-0 text-capitalize",style:{fontWeight:500,color:"var(--PrimaryColorDark)"},children:"Your Leave Applications"})}),e.jsx("p",{className:"m-0",style:{color:"var(--Subtittles)"},children:"You can view and create leave requests here."})]}),e.jsxs("button",{className:"btn btn-primary my-auto d-flex align-items-center gap-2",onClick:()=>p(!0),children:[e.jsx(b,{})," Apply Leave"]})]}),y&&e.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Apply for Leave"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{p(!1),s()}})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:a,onReset:s,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"leaveType",className:"form-label",children:"Select Leave Type"}),e.jsxs("select",{className:"form-select rounded-2 bg-light text-dark border dark-placeholder",id:"leaveType",name:"leaveType",value:t.leaveType,onChange:o,required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"-- Select Leave Type --"}),e.jsx("option",{value:"Sick Leave",children:"Sick Leave"}),e.jsx("option",{value:"Casual Leave",children:"Casual Leave"}),e.jsx("option",{value:"Paid Leave",children:"Paid Leave"}),e.jsx("option",{value:"unPaid Leave",children:"unPaid Leave"}),e.jsx("option",{value:"Maternity Leave",children:"Maternity Leave"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Available Leave"}),e.jsx("div",{className:"rounded-2 p-3",style:{background:"rgba(201, 34, 34, 0.118)"},children:d?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"fw-bold",children:d.total}),e.jsx("small",{className:"text-muted",children:"Total"})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"fw-bold",children:d.taken}),e.jsx("small",{className:"text-muted",children:"Taken"})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"fw-bold text-success",children:d.remaining}),e.jsx("small",{className:"text-muted",children:"Remaining"})]})})]}):e.jsx("div",{className:"text-muted",children:"Please select a leave type"})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"startDate",className:"form-label",children:"Start Date:"}),e.jsx("input",{type:"date",className:"form-control rounded-2 bg-light text-dark border-0",id:"startDate",name:"startDate",min:new Date().toISOString().split("T")[0],value:t.startDate,onChange:o,required:!0})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"endDate",className:"form-label",children:"End Date:"}),e.jsx("input",{type:"date",className:"form-control rounded-2 bg-light text-dark border-0",id:"endDate",name:"endDate",min:t.startDate||new Date().toISOString().split("T")[0],value:t.endDate,onChange:o,disabled:!t.startDate})]})]}),x>0&&e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"alert alert-info py-2",children:[e.jsx("span",{className:"fw-bold",children:"Leave Duration:"})," ",x," day(s)",d&&x>d.remaining&&e.jsx("span",{className:"text-danger ms-2",children:"(Warning: Exceeds your remaining balance)"})]})}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"manager",className:"form-label",children:"Reporting Manager:"}),e.jsx("input",{className:"form-control rounded-2 bg-light text-dark border-0",id:"manager",name:"manager",disabled:!0,placeholder:"demo.admin@munc.in",value:"demo.admin@munc.in"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"hr",className:"form-label",children:"Reporting HR:"}),e.jsx("input",{className:"form-control rounded-2 bg-light text-dark border-0",id:"hr",name:"hr",disabled:!0,placeholder:"hr@munc.in",value:"hr@munc.in"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"additionalManager",className:"form-label",children:"Additional Manager:"}),e.jsxs("select",{className:"form-select rounded-2 bg-light text-dark border dark-placeholder",id:"additionalManager",name:"additionalManager",value:t.additionalManager,onChange:o,children:[e.jsx("option",{value:"",children:"-- Select Additional Manager --"}),e.jsx("option",{value:"demoemp2@munc.in",children:"demoemp2@munc.in"}),e.jsx("option",{value:"aloke@gmail.com",children:"aloke@gmail.com"}),e.jsx("option",{value:"sachin12@gmail.com",children:"sachin12@gmail.com"})]})]}),e.jsxs("div",{className:"mb-3",style:{position:"relative"},children:[e.jsx("label",{htmlFor:"reason",className:"form-label",children:"Reason:"}),e.jsx("textarea",{className:"form-control rounded-2 bg-light text-dark border dark-placeholder",id:"reason",name:"reason",maxLength:"100",required:!0,placeholder:"Please mention the reason for leave",value:t.reason,onChange:o,rows:"3"}),e.jsxs("span",{style:{position:"absolute",bottom:"0.2rem",right:"2rem"},children:[100-t.reason.length," characters remaining"]})]}),e.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[e.jsx("button",{type:"reset",className:"btn btn-secondary",onClick:()=>p(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Application"})]})]})})]})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h6",{children:"Your Leave History"}),e.jsx("div",{className:"alert alert-info",children:"Leave history table will be displayed here"})]})]})},D=()=>{const[c,y]=i.useState([{id:1,leaveType:"Sick Leave",from:"19th, Apr 2025",to:"19th, Apr 2025",days:1,dayType:"Full Day",createdAt:"18th, Apr 2025",remarks:"sick",status:"Pending",updatedBy:"Not Updated",rejectionReason:"Not Updated"},{id:2,leaveType:"Sick Leave",from:"18th, Apr 2025",to:"19th, Apr 2025",days:2,dayType:"Full Day",createdAt:"18th, Apr 2025",remarks:"ufyfhf",status:"Pending",updatedBy:"Not Updated",rejectionReason:"Not Updated"},{id:3,leaveType:"Paid Leave",from:"18th, Apr 2025",to:"19th, Apr 2025",days:2,dayType:"Full Day",createdAt:"18th, Apr 2025",remarks:"yfyuffyfytff",status:"Pending",updatedBy:"Not Updated",rejectionReason:"Not Updated"},{id:4,leaveType:"unPaid Leave",from:"21st, Apr 2025",to:"25th, Apr 2025",days:5,dayType:"Full Day",createdAt:"21st, Apr 2025",remarks:"gh",status:"Pending",updatedBy:"Not Updated",rejectionReason:"Not Updated"},{id:5,leaveType:"Paid Leave",from:"22nd, Apr 2025",to:"22nd, Apr 2025",days:1,dayType:"Full Day",createdAt:"21st, Apr 2025",remarks:"reason",status:"Pending",updatedBy:"Not Updated",rejectionReason:"Not Updated"},{id:6,leaveType:"Maternity Leave",from:"22nd, Apr 2025",to:"22nd, Apr 2025",days:.5,dayType:"Half Day",createdAt:"21st, Apr 2025",remarks:"reasonhjjk",status:"Approved",updatedBy:"Admin Admin",rejectionReason:"Approved"}]),[p,t]=i.useState(!1),[l,d]=i.useState({leaveType:"",from:"",to:"",dayType:"Full Day",remarks:""}),u=a=>{const{name:s,value:r}=a.target;d(n=>({...n,[s]:r}))},x=a=>{a.preventDefault();const s=g(l.from,l.to,l.dayType),r={id:c.length+1,leaveType:l.leaveType,from:o(l.from),to:o(l.to),days:s,dayType:l.dayType,createdAt:o(new Date),remarks:l.remarks,status:"Pending",updatedBy:"Not Updated",rejectionReason:"Not Updated"};y([r,...c]),d({leaveType:"",from:"",to:"",dayType:"Full Day",remarks:""}),t(!1)},g=(a,s,r)=>{const n=new Date(a),h=new Date(s),m=Math.abs(h-n),v=Math.ceil(m/(1e3*60*60*24))+1;return r==="Half Day"?.5:v},o=a=>{const s=new Date(a),r=s.getDate();let n="th";r===1||r===21||r===31?n="st":r===2||r===22?n="nd":(r===3||r===23)&&(n="rd");const m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()],v=s.getFullYear();return`${r}${n}, ${m} ${v}`};return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"d-flex justify-content-between py-2",children:e.jsx("div",{className:"my-auto mt-2"})}),e.jsx(j,{showLeaveForm:p,setShowLeaveForm:t,newLeave:l,handleInputChange:u,handleSubmitLeave:x}),e.jsxs("div",{children:[e.jsx("div",{className:"scroller mb-2 rounded-2",style:{height:"fit-content",maxHeight:"75vh",overflow:"auto",position:"relative",border:"var(--borderLight)"},children:e.jsxs("table",{className:"table mb-0 table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"Leave Type"}),e.jsx("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"From"}),e.jsx("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"To"}),e.jsx("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"Days"}),e.jsx("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"Type"}),e.jsx("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"Created At"}),e.jsx("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"Remarks"}),e.jsx("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"Status"}),e.jsx("th",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"Update By"}),e.jsx("th",{className:"text-end",style:{verticalAlign:"middle",whiteSpace:"pre",background:"rgb(238, 238, 238)",color:"rgb(83, 88, 98)",border:"none",position:"sticky",top:"0rem",zIndex:2},children:"Reason for Rejection"})]})}),e.jsx("tbody",{children:c.map(a=>e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:a.leaveType}),e.jsx("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:a.from}),e.jsx("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:a.to}),e.jsx("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:a.days}),e.jsx("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:a.dayType}),e.jsx("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:a.createdAt}),e.jsx("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)",width:"300px"},children:e.jsx("textarea",{readOnly:!0,className:"form-control ms-0 ms-md-auto rounded-2 bg-light text-dark",style:{height:"2rem"},value:a.remarks})}),e.jsx("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:e.jsx("span",{className:`status-badge ${a.status==="Approved"?"status-approved":a.status==="Rejected"?"status-rejected":"status-pending"}`,children:a.status})}),e.jsx("td",{style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:a.updatedBy}),e.jsx("td",{className:"text-end",style:{verticalAlign:"middle",whiteSpace:"pre",background:"transparent",color:"var(--secondaryDashColorDark)",borderBottom:"1px solid rgba(0, 0, 0, 0.08)"},children:e.jsx("textarea",{readOnly:!0,className:"form-control ms-0 ms-md-auto rounded-2 bg-light text-dark",style:{height:"2rem"},value:a.rejectionReason})})]},a.id))})]})}),e.jsx("div",{className:"cntainer-fluid d-flex flex-column-reverse gap-4 py-2 px-2 rounded-2 gap-md-0 flex-md-row w-100 justify-content-between align-items-center my-2",style:{background:"var(--primaryDashMenuColor)"},children:e.jsxs("div",{className:"d-flex flex-column-reverse gap-4 py-1 px-2 rounded-2 gap-md-0 flex-md-row w-100 justify-content-between align-items-center",style:{background:"var(--secondaryDashMenuColor)"},children:[e.jsxs("div",{className:"my-auto",style:{color:"black"},children:["Showing 1 to ",c.length," of ",c.length," results"]}),e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsxs("button",{className:"btn bg-light text-dark rounded-2 border shadow-sm mx-1 d-flex align-items-center gap-2",disabled:!0,children:[e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",className:"my-auto",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("polyline",{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"})}),e.jsx("span",{className:"d-none d-md-flex",children:"Previous"})]}),e.jsx("div",{className:"pagination d-flex flex-nowrap gap-2",children:e.jsx("button",{className:"bg-primary text-white border-0 rounded-2",style:{border:"none",height:"2.3rem",width:"2.3rem",display:"flex",justifyContent:"center",alignItems:"center"},children:"1"})}),e.jsxs("button",{className:"btn bg-light text-dark rounded-2 border shadow-sm mx-1 d-flex align-items-center gap-2",disabled:!0,children:[e.jsx("span",{className:"d-none d-md-flex",children:"Next"}),e.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",className:"my-auto",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("polyline",{fill:"none",strokeWidth:"2",points:"9 6 15 12 9 18"})})]})]})]})})]})]})};export{D as default};
